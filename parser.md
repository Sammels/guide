#Руководство по оформлению parser кода


- Файлы ДОЛЖНЫ использовать только кодировку «UTF-8 без BOM» ("UTF-8 without BOM").

- Имена классов ДОЛЖНЫ определяться в `under_score`. Имя класса - существительное.

- Свойства классов ДОЛЖНЫ определяться в `_under_score`. Свойство класса - существительное.

- Названия методов ДОЛЖНЫ определяться в `under_score`. Метод класса - глагол.

- В методе РЕКОМЕНДУЕТСЯ объявлять все переменные локальными.

- В методе НЕОБХОДИМО обращаться к свойствам класса через системную переменную self.

- При написании кода ДОЛЖНЫ использоваться для отступа табы, а не пробелы.

- После логического блока ДОЛЖНА быть 1 пустая строка. 

- После метода  ДОЛЖНЫ быть 2 пустых строки. 

- Управляющие структуры `if`, `while`, `foreach`, `menu` НЕ ДОЛЖНЫ быть в 1 строку, кроме очень простых случаев.

- Каждый класс, метод ДОЛЖЕН содержать комментарии.

  - Комментарии к классам ДОЛЖНЫ содержать следующие описания:
    
    - Самого класса.
    
    - Классы от которого зависит сам класс - @depend 
    
    - Cвойств класса - @property.
  
    - Методов класса - @method.

  - Комментарии к методам ДОЛЖНЫ содержать следующие описания: 
  
    - Самого метода.
    
    - Параметров - @param {type}.
    
    - Возвращаемого значения - @result {type}.

Пример класса
-----------

Следующий код представляет собой краткий пример верного следования правилам:

```
##
# Описание класса
#
# @property _my_property - Описание свойства класса
# @property _value - Описание другого свойства класса
#
# @method to_method[hash $hash] - Демонстрация стиля комментирования и отделения логичеких блоков 1-ой строкой
# @method to_locals[] - Демонстрация объявления локальных переменных и вызов свойств класса
##
@CLASS
my_class


##
# Инициализация свойств класса
##
@auto[path]
$_my_property[prop]
$_value[value]


##
# Демонстрация стиля комментирования 
# и отделения логичеких блоков 1-ой строкой
#
# @param {hash} - хеш с данными
#   @param {hash.name} - имя
#   @param {hash.status} - статус 0|1
#
# @result {string|NULL} - статус
##
@to_method[hash][status]
$status[NULL]

^if(def $hash){
  ^hash.foreach[key;value]{
    $status($hash.status)
  }
}

$result[$status]


##
# Демонстрация объявления локальных переменных
# и вызов свойств класса
#
# @result {string}
##
@to_locals[][property;value]
$property[$self._my_property]
$value[$self._value]

$result[$value]

```
